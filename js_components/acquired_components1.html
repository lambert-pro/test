<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acquired Components Integration</title>
</head>
<body>
<h2>支付表单</h2>
<form id="card-form" class="form-main">
    <div id="payment-component">

    </div>
    <button id="submit">Submit</button>
</form>
</body>

<!--<script type="text/javascript" src="./fromLambert/v1.1/acquired.js"></script>-->
<script type="text/javascript" src="https://cdn.acquired.com/sdk/v1.1/acquired.js" integrity="sha384-uEWrid7+SjZbfDvQmobDdKO/2ofqACn5KXS9DKANcM0UfHIq+6X1ItKH+dBqcsaV" crossorigin="anonymous"></script>
<script>
  const acquired = new Acquired('pk_346c8a4e32dc57bc7bb7db132bd0cbfa','debug');
  const options = {
    session: '01910770-a308-737a-83ea-c08426e9f869',
    environment: 'test'
  };
  const components = acquired.components(options)

  const style = {
    base: {
      backgroundColor: '#fff',
      padding: '12px 16px',
      fontFamily: 'Tahoma',
      fontSize: '15px',
      fontWeight: '400',
      border: '1px solid #ccc',
      borderColor: 'gray',
      borderRadius: '6px'
    },
    focus: {
      color: 'green',
      borderColor: 'green'
    },
    invalid: {
      color: 'orange',
      borderColor: 'orange'
    },
    placeholder: {
      color: 'gray'
    }
  };
  const paymentComponent = components.create('cardForm', {
    style: style
  });
  paymentComponent.mount('#payment-component');

  const confirmParams = {
    customer: {
      reference: 'cfe19f01-6fe5-4c82-be05-0f66054efde1',
      billing: {
        address: {
          line_1: 'Flat 1',
          line_2: '152 Aldgate Drive',
          city: 'London',
          postcode: 'E1 7RT',
          country_code: 'GB'
        },
        email: 'ejohnson@acquired.com',
        phone: {
          country_code: '44',
          number: '2039826580'
        },
        shipping: {
          address_match: true
        }, webhook_url: 'https://www.yourdomain.com/webhook'
      }
    }
  }

  const form = document.getElementById('card-form')
  form.addEventListener('submit', async (event) => {
    console.log(123123)
    event.preventDefault();
    const response = await acquired.confirmPayment({
      components, confirmParams: confirmParams,
    })

    console.log(111)
    console.log(response)
  })

</script>
</html>
