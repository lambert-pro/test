<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acquired Components Integration</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .form-main { padding: 20px; border: 1px solid #ccc; border-radius: 5px; background: #f2f2f2; }
        #submit { cursor: pointer; padding: 10px; border: none; border-radius: 5px; background: #007bff; color: white; }
        #submit:hover { background: #0056b3; }
    </style>
</head>
<body>
<h2>支付表单</h2>
<form id="card-form" class="form-main">
    <div id="payment-component"></div>
    <button type="submit" id="submit">Submit</button>
</form>

<script src="https://cdn.acquired.com/sdk/v1.1/acquired.js" integrity="sha384-uEWrid7+SjZbfDvQmobDdKO/2ofqACn5KXS9DKANcM0UfHIq+6X1ItKH+dBqcsaV" crossorigin="anonymous"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const acquired = new Acquired('pk_346c8a4e32dc57bc7bb7db132bd0cbfa', 'debug');
        const options = {
            session: '01910755-521a-713f-a784-8511057fa9f1',
            environment: 'test'
        };
        const components = acquired.components(options);

        const style = {
            base: {
                backgroundColor: '#fff',
                padding: '12px 16px',
                fontFamily: 'Tahoma',
                fontSize: '15px',
                fontWeight: '400',
                border: '1px solid #ccc',
                borderColor: 'gray',
                borderRadius: '6px'
            },
            focus: {
                color: 'green',
                borderColor: 'green'
            },
            invalid: {
                color: 'orange',
                borderColor: 'orange'
            },
            placeholder: {
                color: 'gray'
            }
        };

        const paymentComponent = components.create('cardForm', { style });
        paymentComponent.mount('#payment-component');

        const confirmParams = {
            customer: {
                reference: 'cfe19f01-6fe5-4c82-be05-0f66054efde1',
                billing: {
                    address: {
                        line_1: 'Flat 1',
                        line_2: '152 Aldgate Drive',
                        city: 'London',
                        postcode: 'E1 7RT',
                        country_code: 'GB'
                    },
                    email: 'ejohnson@acquired.com',
                    phone: {
                        country_code: '44',
                        number: '2039826580'
                    }
                },
                shipping: {
                    address_match: true
                }
            },
            webhook_url: 'https://www.yourdomain.com/webhook'
        };

        document.getElementById('card-form').addEventListener('submit', async (event) => {
            event.preventDefault();
            try {
                const response = await acquired.confirmPayment({ components, confirmParams });
                console.log('Payment response:', response);
            } catch (error) {
                console.error('Payment error:', error);
            }
        });
    });
</script>
</body>
</html>
